:root {
  /* --- COULEURS DE BASE (Défaut / Suna) --- */
  --bg-deep: #1a1205; /* Fond sombre sable */
  --bg-panel: #2e200a;
  --bg-card: rgba(45, 30, 10, 0.7);
  --primary: #eab308; /* Or/Sable */
  --primary-glow: rgba(234, 179, 8, 0.5);
  --accent: #f97316; /* Orange désert */
  --text: #fefce8;
  --text-muted: #d4d4d8;
  --border: rgba(255, 255, 255, 0.1);
  --danger: #ef4444;
  --radius: 16px;
  
  --orb-1: #eab308;
  --orb-2: #d97706;
  
  --font-heading: 'Outfit', sans-serif;
  --font-body: 'Inter', sans-serif;
}

/* --- THEMES DYNAMIQUES --- */

/* Konoha : Feu & Feuilles (Vert/Orange) */
body[data-theme="Konoha"] {
  --bg-deep: #051a08;
  --bg-panel: #0f2e15;
  --bg-card: rgba(10, 45, 20, 0.7);
  --primary: #4ade80; /* Vert Feuille */
  --primary-glow: rgba(74, 222, 128, 0.5);
  --accent: #f97316; /* Feu */
  --orb-1: #22c55e;
  --orb-2: #ea580c;
}

/* Kiri : Brume & Eau (Bleu profond/Cyan) */
body[data-theme="Kiri"] {
  --bg-deep: #020617;
  --bg-panel: #0f172a;
  --bg-card: rgba(15, 23, 42, 0.7);
  --primary: #06b6d4; /* Cyan */
  --primary-glow: rgba(6, 182, 212, 0.5);
  --accent: #3b82f6; /* Bleu royal */
  --orb-1: #0891b2;
  --orb-2: #2563eb;
}

/* Oto : Son & Ombres (Violet/Noir) */
body[data-theme="Oto"] {
  --bg-deep: #180324;
  --bg-panel: #280838;
  --bg-card: rgba(40, 10, 60, 0.7);
  --primary: #d946ef; /* Fuchsia */
  --primary-glow: rgba(217, 70, 239, 0.5);
  --accent: #8b5cf6; /* Violet */
  --orb-1: #a21caf;
  --orb-2: #6d28d9;
}

/* Nukenin : Obscurité & Akatsuki (Gris/Rouge/Noir) */
body[data-theme="Nukenin"] {
  --bg-deep: #09090b; /* Presque noir */
  --bg-panel: #18181b;
  --bg-card: rgba(39, 39, 42, 0.7);
  --primary: #f43f5e; /* Rouge Rose (Nuage) */
  --primary-glow: rgba(244, 63, 94, 0.5);
  --accent: #a1a1aa; /* Gris */
  --orb-1: #e11d48;
  --orb-2: #52525b;
  --text: #fafafa;
}

/* Samourai : Fer & Sakura (Acier/Rose) */
body[data-theme="Samourai"] {
  --bg-deep: #1a1d23;
  --bg-panel: #2b303b;
  --bg-card: rgba(50, 55, 70, 0.7);
  --primary: #f472b6; /* Rose Sakura */
  --primary-glow: rgba(244, 114, 182, 0.5);
  --accent: #94a3b8; /* Acier */
  --orb-1: #ec4899;
  --orb-2: #cbd5e1;
}

/* Autres / Neutre */
body[data-theme="Tous"], body[data-theme=""] {
  --bg-deep: #0f172a;
  --primary: #64748b;
  --orb-1: #334155;
  --orb-2: #475569;
}

/* --- RESET & BASE --- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  background-color: var(--bg-deep);
  color: var(--text);
  font-family: var(--font-body);
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.6;
  transition: background-color 0.5s ease, color 0.5s ease;
}

/* Scrollbar custom */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--bg-deep); }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--primary); }

.skip-link { position: absolute; left: -9999px; }
.skip-link:focus { left: 1rem; top: 1rem; background: var(--primary); padding: 1rem; z-index: 100; }

.hidden { display: none !important; }

/* --- BACKGROUND ANIMÉ --- */
.app-overlay {
  position: fixed; inset: 0; z-index: -1;
  background: radial-gradient(circle at 50% 0%, rgba(255,255,255, 0.05), transparent 70%);
  pointer-events: none;
}
.bg-orb {
  position: fixed; border-radius: 50%; filter: blur(80px); opacity: 0.4; z-index: -2;
  animation: float 20s infinite ease-in-out;
  transition: background-color 1s ease;
}
.bg-orb-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: var(--orb-1); }
.bg-orb-2 { bottom: -10%; right: -10%; width: 40vw; height: 40vw; background: var(--orb-2); animation-delay: -10s; }

@keyframes float {
  0%, 100% { transform: translate(0, 0); }
  50% { transform: translate(20px, 40px); }
}

/* --- GLASSMORPHISM UTILITAIRES --- */
.glass-panel {
  background: var(--bg-panel);
  background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0));
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid var(--border);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
}

/* --- HEADER --- */
.site-header {
  position: sticky; top: 0; z-index: 100;
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 2rem; border-bottom: 1px solid var(--border);
  background-color: rgba(0,0,0,0.4);
}
.brand { display: flex; align-items: center; gap: 1rem; }
.logo-icon { font-size: 2rem; }
.site-title { font-family: var(--font-heading); font-weight: 700; font-size: 1.5rem; line-height: 1; }
.site-subtitle { color: var(--text-muted); font-size: 0.8rem; letter-spacing: 1px; text-transform: uppercase; }

.header-actions { display: flex; gap: 1rem; align-items: center; }
.search-wrapper {
  position: relative; display: flex; align-items: center;
  background: rgba(0,0,0,0.2); border-radius: 99px; border: 1px solid var(--border);
  padding: 0.5rem 1rem; width: 300px; transition: all 0.3s;
}
.search-wrapper:focus-within { border-color: var(--primary); box-shadow: 0 0 15px var(--primary-glow); width: 350px; }
.search-icon { color: var(--text-muted); width: 18px; height: 18px; }
#searchInput { background: transparent; border: none; color: white; flex: 1; margin-left: 0.5rem; outline: none; }
.icon-btn { background: none; border: none; color: var(--text-muted); cursor: pointer; font-size: 1.2rem; }
.icon-btn:hover { color: white; }

/* --- BOUTON ADMIN --- */
.admin-btn-trigger {
  background: transparent; border: none; display: flex; align-items: center; gap: 0.8rem;
  cursor: pointer; padding: 0.4rem; border-radius: 99px; transition: 0.3s;
}
.admin-btn-trigger:hover { background: rgba(255,255,255,0.05); }
.admin-icon-box {
  width: 32px; height: 32px; background: var(--bg-panel); border: 1px solid var(--border);
  border-radius: 50%; display: flex; align-items: center; justify-content: center;
  color: var(--primary); box-shadow: 0 0 10px var(--primary-glow);
  transition: 0.3s;
}
.admin-btn-trigger:hover .admin-icon-box { transform: rotate(15deg) scale(1.1); box-shadow: 0 0 15px var(--primary-glow); }
#adminText { font-size: 0.9rem; font-weight: 600; color: var(--text-muted); }
.admin-btn-trigger:hover #adminText { color: var(--text); }

/* --- NAVIGATION (CENTRAGE) --- */
.tabs-container { 
  padding: 1.5rem 2rem 0; 
  max-width: 1600px; 
  margin: 0 auto; 
  display: flex; 
  justify-content: center;
}
.village-tabs {
  display: flex; gap: 0.5rem; padding: 0.5rem; border-radius: 16px;
  overflow-x: auto; scrollbar-width: none;
  justify-content: center; 
  background: rgba(0,0,0,0.2);
}
.village-tab {
  background: transparent; border: none; color: var(--text-muted);
  padding: 0.6rem 1.2rem; border-radius: 12px; font-weight: 600; cursor: pointer;
  transition: all 0.3s; white-space: nowrap;
}
.village-tab:hover { color: white; background: rgba(255,255,255,0.05); }
.village-tab.active { 
  background: var(--primary); 
  color: white;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  box-shadow: 0 4px 12px var(--primary-glow); 
}

/* --- TOOLBAR & FILTRES --- */
.toolbar {
  margin: 1rem 2rem; padding: 1rem; border-radius: 16px;
  display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 1rem;
  max-width: 1600px; margin-left: auto; margin-right: auto;
  background: rgba(0,0,0,0.2);
}
.stats-badge { font-family: var(--font-heading); font-weight: 600; color: var(--primary); }
.filters-row { display: flex; gap: 0.8rem; flex-wrap: wrap; align-items: center; justify-content: center; }

/* === SELECT MODERNE CORRIGÉ === */
.modern-select {
  background-color: rgba(15, 23, 42, 0.6);
  color: var(--text); 
  border: 1px solid var(--border);
  padding: 0.6rem 2.5rem 0.6rem 1rem;
  border-radius: 12px;
  cursor: pointer;
  appearance: none; 
  -webkit-appearance: none;
  font-family: var(--font-body);
  font-size: 0.95rem;
  font-weight: 500;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 0.8rem center;
  background-size: 1em;
  transition: all 0.2s ease;
}
.modern-select:hover {
  background-color: rgba(15, 23, 42, 0.9);
  border-color: var(--text-muted);
}
.modern-select:focus {
  border-color: var(--primary);
  outline: none;
  box-shadow: 0 0 0 3px var(--primary-glow);
}
/* Style des options de la liste déroulante */
.modern-select option {
  background-color: #0f172a;
  color: #f8fafc;
  padding: 12px;
  font-family: var(--font-body);
}

/* --- GRILLE & CARTES --- */
.grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 1.5rem; padding: 0 2rem 4rem; max-width: 1600px; margin: 0 auto;
}

.card {
  background: var(--bg-card); border-radius: var(--radius);
  border: 1px solid var(--border); overflow: hidden; position: relative;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  cursor: pointer; opacity: 0; animation: fadeUp 0.6s forwards;
}
@keyframes fadeUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.card:hover {
  transform: translateY(-8px) scale(1.02);
  border-color: var(--primary);
  box-shadow: 0 20px 40px -10px rgba(0,0,0,0.5), 0 0 20px var(--primary-glow);
  z-index: 10;
}

.card-img-wrapper {
  position: relative; aspect-ratio: 1; overflow: hidden; background: #000;
}
.card-img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
.card:hover .card-img { transform: scale(1.1); opacity: 0.9; }
.img-overlay {
  position: absolute; inset: 0; background: linear-gradient(to top, var(--bg-panel), transparent);
  opacity: 0.7; z-index: 1;
}

/* Logos cartes */
.card-kg-logo {
  position: absolute; top: 10px; left: 10px; width: 42px; height: 42px;
  background: rgba(0,0,0,0.6); border-radius: 50%; padding: 6px;
  backdrop-filter: blur(4px); z-index: 5; border: 1px solid rgba(255,255,255,0.1);
}
.card-village-logo {
  position: absolute; top: 10px; right: 10px; width: 36px; height: 36px; z-index: 5;
  filter: drop-shadow(0 0 8px rgba(0,0,0,0.8));
}
.card-natures-wrapper {
  position: absolute; bottom: 12px; left: 12px; z-index: 5;
  background: rgba(0,0,0,0.6); border-radius: 20px; padding: 4px 8px;
  backdrop-filter: blur(4px); display: flex; gap: 4px;
}
.card-natures-wrapper img { width: 20px; height: 20px; }

.status-badge.dead {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-10deg);
  background: var(--danger); color: white; font-weight: 900; font-size: 1.5rem;
  padding: 0.5rem 2rem; border: 2px solid white; text-transform: uppercase;
  z-index: 10; letter-spacing: 2px; box-shadow: 0 10px 20px rgba(0,0,0,0.5);
}
.card--deceased .card-img { filter: grayscale(1) contrast(1.2); }

.card-content {
  padding: 1rem; position: relative; background: var(--bg-panel);
  border-top: 1px solid var(--border);
  transition: background 0.3s;
}
.card-name { font-family: var(--font-heading); font-size: 1.1rem; font-weight: 700; margin-bottom: 0.2rem; }
.card-icons { display: flex; gap: 0.5rem; align-items: center; margin-top: 0.5rem; }
.card-icons img { width: 28px; height: 28px; object-fit: contain; }

.card-del {
  position: absolute; top: 10px; right: 10px; background: var(--danger); color: white;
  width: 32px; height: 32px; border-radius: 8px; border: none; cursor: pointer;
  z-index: 20; display: flex; align-items: center; justify-content: center;
  transition: 0.2s; box-shadow: 0 4px 10px rgba(239, 68, 68, 0.4);
}
.card-del:hover { transform: scale(1.1); }

/* --- MODALE LOGIN (Design + Centrage) --- */
.login-modal-design {
  background: var(--bg-deep);
  border: 1px solid var(--primary);
  border-radius: 24px;
  padding: 0;
  box-shadow: 0 0 50px var(--primary-glow);
  max-width: 400px; width: 90%;
  overflow: hidden;
  margin: auto !important; 
  position: fixed;
  inset: 0;
}

.login-container {
  padding: 2.5rem;
  display: flex; flex-direction: column; gap: 1.5rem; align-items: center;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), transparent);
}

.login-header { text-align: center; }
.login-icon-pulse {
  width: 60px; height: 60px; background: var(--primary-glow); border-radius: 50%;
  margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center;
  box-shadow: 0 0 20px var(--primary-glow); animation: pulse 3s infinite;
}
@keyframes pulse { 0%, 100% { box-shadow: 0 0 20px var(--primary-glow); } 50% { box-shadow: 0 0 40px var(--primary-glow); } }

.login-header h2 { font-family: var(--font-heading); font-size: 1.8rem; margin: 0; color: var(--text); }
.login-header p { color: var(--text-muted); font-size: 0.9rem; margin-top: 0.5rem; }

.login-form-modern { width: 100%; display: flex; flex-direction: column; gap: 1rem; }

.input-wrapper {
  position: relative;
  background: rgba(0,0,0,0.3); border: 1px solid var(--border); border-radius: 12px;
  display: flex; align-items: center; padding: 0 1rem; transition: 0.3s;
}
.input-wrapper:focus-within { border-color: var(--primary); box-shadow: 0 0 15px rgba(0,0,0,0.5); }
.input-icon { font-size: 1.2rem; opacity: 0.7; }
.input-wrapper input {
  flex: 1; background: transparent; border: none; padding: 1rem; color: white; outline: none;
}

.btn-login-glow {
  background: var(--primary); color: #000; font-weight: 700; padding: 1rem;
  border: none; border-radius: 12px; cursor: pointer; position: relative; overflow: hidden;
  font-family: var(--font-heading); text-transform: uppercase; letter-spacing: 1px;
  transition: 0.3s; margin-top: 0.5rem;
}
.btn-login-glow:hover { transform: translateY(-2px); box-shadow: 0 5px 20px var(--primary-glow); }
.btn-flare {
  position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: 0.5s;
}
.btn-login-glow:hover .btn-flare { left: 100%; transition: 0.5s; }

/* --- MODALES GÉNÉRALES --- */
.modal {
  border-radius: 24px; padding: 0; color: white;
  box-shadow: 0 50px 100px -20px rgba(0,0,0,0.8);
  animation: modalIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  background: var(--bg-deep);
  margin: auto;
  position: fixed;
  inset: 0;
}
@keyframes modalIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
.modal::backdrop { background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); }
.modal-large { width: 1000px; max-width: 95vw; height: auto; max-height: 90vh; }
.modal-small { width: 400px; }

.modal-body { display: flex; height: 100%; min-height: 500px; }
.modal-left-col {
  width: 350px; background: rgba(0,0,0,0.3); padding: 2rem;
  border-right: 1px solid var(--border); display: flex; flex-direction: column; gap: 1.5rem;
}
.modal-right-col { flex: 1; padding: 2.5rem; overflow-y: auto; display: flex; flex-direction: column; gap: 2rem; }

.photo-frame {
  width: 100%; aspect-ratio: 1; border-radius: 20px; overflow: hidden;
  border: 1px solid var(--border); position: relative; background: black;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}
#modalPhoto { width: 100%; height: 100%; object-fit: cover; }
.dropzone {
  position: absolute; inset: 0; background: rgba(0,0,0,0.7); color: white;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  gap: 10px; opacity: 0; transition: 0.3s; cursor: pointer; font-weight: 600;
}
.dropzone:hover { opacity: 1; }

/* Quick Stats */
.stat-pill {
  background: rgba(255,255,255,0.05); padding: 0.8rem; border-radius: 12px;
  display: flex; align-items: center; gap: 10px; border: 1px solid var(--border);
}
.stat-pill img { width: 30px; height: 30px; }
.pill-label { font-size: 0.7rem; text-transform: uppercase; color: var(--text-muted); display: block; }

/* Modal Header */
.modal-header-view { display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 1px solid var(--border); padding-bottom: 1.5rem; }
.modal-header-view h2 { font-family: var(--font-heading); font-size: 2.5rem; line-height: 1.1; margin-bottom: 0.5rem; }

/* CORRECTIF 1 : Taille du logo de rang dans la modale */
.rank-display { display: flex; align-items: center; gap: 10px; font-size: 1.1rem; color: var(--primary); font-weight: 600; }
.rank-display img {
  width: 50px;
  height: 50px;
  object-fit: contain;
}

.kage-logo-modal { width: 80px; filter: drop-shadow(0 0 10px var(--primary-glow)); }

/* Abilities */
.ability-card {
  background: linear-gradient(145deg, rgba(255,255,255,0.05), transparent);
  padding: 1.5rem; border-radius: 16px; border: 1px solid var(--border);
}
.ability-card h4 { color: var(--primary); font-size: 0.8rem; text-transform: uppercase; margin-bottom: 1rem; letter-spacing: 1px; }

/* CORRECTIF 2 : Taille et alignement des Kekkei Genkai */
.ability-content { 
  display: flex; 
  align-items: center; 
  gap: 1rem; 
  font-weight: 700; 
  font-size: 1.2rem; 
}
.ability-content img {
  width: 70px;
  height: 70px;
  object-fit: contain;
}

.nature-icons { display: flex; gap: 1rem; }
.nature-icons img { width: 40px; height: 40px; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.3)); }

/* Bio */
.section-title { font-family: var(--font-heading); font-size: 1.2rem; margin-bottom: 1rem; color: var(--primary); }
.bio-content { color: var(--text-muted); font-size: 1rem; line-height: 1.8; white-space: pre-wrap; }

/* Formulaires */
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
.form-group { display: flex; flex-direction: column; gap: 0.5rem; }
.form-group label { font-size: 0.85rem; font-weight: 600; color: var(--text-muted); }
.modern-input, .modern-textarea {
  background: rgba(0,0,0,0.3); border: 1px solid var(--border); color: white;
  padding: 0.8rem 1rem; border-radius: 8px; font-family: var(--font-body);
  transition: 0.2s; width: 100%;
}
.modern-input:focus { border-color: var(--primary); outline: none; background: rgba(0,0,0,0.5); }
.modern-textarea { min-height: 150px; line-height: 1.6; }

.checkbox-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.chk-btn { cursor: pointer; }
.chk-btn input { display: none; }
.chk-btn span {
  display: block; padding: 0.6rem; text-align: center; background: rgba(255,255,255,0.05);
  border-radius: 8px; border: 1px solid var(--border); transition: 0.2s; font-weight: 600; font-size: 0.9rem;
}
.chk-btn input:checked + span { background: var(--primary); border-color: var(--primary); color: black; }

/* Boutons généraux */
.btn-primary { background: var(--primary); color: #000; border: none; padding: 0.8rem 2rem; border-radius: 99px; font-weight: 600; cursor: pointer; transition: 0.2s; }
.btn-primary:hover { box-shadow: 0 0 20px var(--primary-glow); transform: translateY(-2px); filter: brightness(1.2); }
.btn-secondary { background: transparent; color: white; border: 1px solid var(--border); padding: 0.6rem 1.5rem; border-radius: 99px; cursor: pointer; transition: 0.2s; }
.btn-secondary:hover { background: white; color: black; }
.btn-text { background: none; border: none; color: var(--text-muted); cursor: pointer; }
.btn-text:hover { color: var(--primary); text-decoration: underline; }
.modal-close { position: absolute; top: 1.5rem; right: 1.5rem; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; z-index: 50; }

/* Toasts */
.toast-container { position: fixed; bottom: 2rem; right: 2rem; z-index: 9999; display: flex; flex-direction: column; gap: 1rem; }
.toast {
  background: var(--bg-panel); backdrop-filter: blur(12px); border: 1px solid var(--border);
  color: white; padding: 1rem 1.5rem; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  display: flex; align-items: center; gap: 10px; animation: slideIn 0.3s ease-out; min-width: 300px;
}
.toast.success { border-left: 4px solid #10b981; }
.toast.error { border-left: 4px solid #ef4444; }
@keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

.hidden { display: none !important; }

/* Responsive */
@media (max-width: 768px) {
  .modal-body { flex-direction: column; }
  .modal-left-col, .modal-right-col { width: 100%; border: none; padding: 1.5rem; }
  .header-actions { gap: 0.5rem; }
  .site-title { font-size: 1.2rem; }
  .search-wrapper { width: 100%; display: none; }
  .tabs-container { padding: 1rem; }
}

/* --- SCEAU DE PROTECTION V2 (Fûinjutsu Style) --- */
.seal-overlay {
    position: fixed; inset: 0; z-index: 10000;
    background: radial-gradient(circle at center, #1a1205 0%, #000000 100%);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    transition: all 0.8s ease-in-out;
}

.seal-overlay.broken {
    opacity: 0; visibility: hidden; pointer-events: none;
    transform: scale(1.1); filter: blur(10px);
}

.seal-container {
    position: relative; width: 300px; height: 300px;
    display: flex; align-items: center; justify-content: center;
    margin-bottom: 2rem;
}

/* -- Les Anneaux de Chakra -- */
.chakra-ring {
    position: absolute; border-radius: 50%;
    border: 1px solid transparent;
    box-shadow: 0 0 15px rgba(234, 179, 8, 0.1);
    pointer-events: none;
}

/* Anneau Extérieur : Grand, lent, avec des "runes" (pointillés) */
.ring-outer {
    width: 280px; height: 280px;
    border: 2px dashed rgba(234, 179, 8, 0.3);
    border-top-color: var(--primary); border-bottom-color: var(--primary);
    animation: spin 20s linear infinite;
}

/* Anneau Milieu : Vitesse moyenne, sens inverse */
.ring-middle {
    width: 220px; height: 220px;
    border: 1px solid rgba(249, 115, 22, 0.4); /* Orange */
    border-left: 4px solid var(--primary);
    border-right: 4px solid var(--primary);
    animation: spin-reverse 12s linear infinite;
}

/* Anneau Intérieur : Rapide, proche du centre */
.ring-inner {
    width: 160px; height: 160px;
    border: 2px dotted var(--primary);
    animation: spin 8s linear infinite;
    opacity: 0.6;
}

/* -- Le Cœur du Sceau (Bouton) -- */
.seal-core {
    width: 120px; height: 120px;
    border-radius: 50%; border: none;
    background: radial-gradient(circle, rgba(234,179,8,0.2) 0%, rgba(0,0,0,0.8) 80%);
    border: 2px solid var(--primary);
    color: var(--primary);
    font-family: 'Courier New', serif; 
    cursor: pointer; position: relative; z-index: 10;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    box-shadow: 0 0 30px rgba(234, 179, 8, 0.2), inset 0 0 20px rgba(234, 179, 8, 0.2);
}

.kanji-main {
    font-size: 4rem; font-weight: 900;
    text-shadow: 0 0 15px var(--primary), 0 0 30px var(--accent);
    animation: pulse-kanji 3s infinite ease-in-out;
}

/* Effet de lueur interne pulsante */
.core-glow {
    position: absolute; inset: -5px; border-radius: 50%;
    border: 2px solid var(--primary);
    opacity: 0; transform: scale(0.8);
    transition: 0.3s;
}

/* -- Textes -- */
.seal-message { text-align: center; position: relative; z-index: 10; }

.seal-title {
    font-family: var(--font-heading); font-size: 1.5rem; letter-spacing: 6px;
    color: var(--primary); text-transform: uppercase; margin-bottom: 0.5rem;
    text-shadow: 0 0 10px rgba(234, 179, 8, 0.5);
}
.seal-instruction {
    font-family: var(--font-body); font-size: 0.8rem; color: var(--text-muted);
    letter-spacing: 2px; text-transform: uppercase; opacity: 0.7;
}

/* -- Interactions (Hover) -- */
.seal-core:hover {
    transform: scale(1.1);
    background: rgba(234, 179, 8, 0.1);
    box-shadow: 0 0 50px var(--primary), inset 0 0 30px var(--primary);
    letter-spacing: 5px; /* Petit glitch visuel */
}

.seal-core:hover .core-glow {
    opacity: 1; transform: scale(1.3); border-color: rgba(234,179,8, 0.3);
    animation: spin 2s linear infinite;
}

/* Les anneaux accélèrent au survol */
.seal-container:hover .ring-outer { animation-duration: 5s; border-color: var(--primary); }
.seal-container:hover .ring-middle { animation-duration: 3s; border-color: var(--accent); }
.seal-container:hover .ring-inner { animation-duration: 1s; border-color: white; }

/* -- Animation de rupture (Click) -- */
.seal-shatter-anim .seal-core {
    animation: implodeExplode 0.6s forwards;
}
.seal-shatter-anim .chakra-ring {
    animation: expandFade 0.5s forwards;
}

/* -- Keyframes -- */
@keyframes spin { 100% { transform: rotate(360deg); } }
@keyframes spin-reverse { 100% { transform: rotate(-360deg); } }

@keyframes pulse-kanji {
    0%, 100% { text-shadow: 0 0 15px var(--primary); opacity: 0.8; }
    50% { text-shadow: 0 0 30px var(--primary), 0 0 50px var(--accent); opacity: 1; transform: scale(1.05); }
}

@keyframes implodeExplode {
    0% { transform: scale(1); filter: brightness(1); }
    40% { transform: scale(0.5); filter: brightness(5); background: white; color: transparent; }
    100% { transform: scale(3); opacity: 0; filter: blur(20px); }
}

@keyframes expandFade {
    0% { transform: scale(1); opacity: 1; }
    100% { transform: scale(2); opacity: 0; border-width: 10px; }
}